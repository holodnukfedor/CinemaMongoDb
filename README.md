# CinemaMongoDb

Web api сайт выполненный как тестовое задание

# Задача 
Разработать веб-сервис (MVC/WebAPI на выбор) выполняющий доступ к данным расположенным в некой внешней базе данных MongoDB. Условие – коллекция, относительно которой производится выборка содержит несколько десятков миллионов записей, результат выборки выводится пользователю в виде таблицы, с возможностью изменения максимального количества одновременно отображаемых строк и выбора текущей страницы.
Бонусные задания:
* Предложения/имплементация для автоматизированного тестирования метода
* Предложения/имплементация по масштабированию сервиса (в том числе и базы данных, если по Вашему мнению это необходимо)
* Тестовый фронтэнд к сервису
* Документирование сервиса

В проекте есть json файл для заполнения БД тестовыми данным https://github.com/holodnukfedor/CinemaMongoDb/blob/master/CinemaBLLTest/TestData/Movies.json.
Также можно с помощью него заполнить БД автоматически если в файле Web.config добавить пользователский ключ с путем к файлу по типу
 add key="pathToDbInitializeData" value="C:\Users\Fedor\Documents\Visual Studio 2013\Projects\CinemaMongoDb\CinemaBLLTest\TestData\Movies.json"
 Если ключа не будет БД или БД уже заполнена. Заполнение происходить не будет.


Из бонусных заданий были реализованы тестовый фронтенд (также с сортировкой, поскольку это не усложняло задачу) и автоматизированное тестирование метода.
Написано Unit test, которые покрывают большую часть граничных условий пагинации. Также предполагается, что тест будет выполнятся с помощью строки подключения отличающейся от основной рабочей БД.
Это сделано затем, что БД наполняется тестовыми данными в начале теста, проводятся тесты, и БД очищается, что позволит прогонять тесты много раз. 
Если БД используемая в тестах перед началом теста будет заполнена, то конструктор класса теста выбросит исключение.
